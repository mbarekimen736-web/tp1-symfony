{% extends 'base.html.twig' %}

{% block title %}Liste des articles{% endblock %}

{% block body %}

<h1 class="mb-4">ğŸ“° Articles (depuis la BDD)</h1>

{% if articles is empty %}

<div class="alert alert-info">
    Aucun article en base de donnÃ©es.
    <a href="{{ path('app_article_nouveau') }}" class="alert-link">
        CrÃ©er un article
    </a>
</div>

{% else %}

<div class="table-responsive">
<table class="table table-bordered table-hover mt-4">

<thead class="table-dark text-center">
<tr>
    <th>ID</th>
    <th>Titre</th>
    <th>Auteur</th>
    <th>Date</th>
    <th>Statut</th>
</tr>
</thead>

<tbody>

{% for article in articles %}

<tr>
<td class="text-center">{{ article.id }}</td>

<td>
<a href="{{ path('app_article_detail', {'id': article.id}) }}">
{{ article.titre }}
</a>
</td>

<td>{{ article.auteur }}</td>

<td>{{ article.dateCreation|date('d/m/Y') }}</td>

<td class="text-center">

{% if article.publie %}
<span class="badge bg-success">âœ… PubliÃ©</span>
{% else %}
<span class="badge bg-warning text-dark">ğŸ“ Brouillon</span>
{% endif %}

</td>
</tr>

{% endfor %}

</tbody>
</table>
</div>

<p class="mt-3 text-muted">
{{ articles|length }} article(s) en base de donnÃ©es
</p>

{% endif %}

{% endblock %}